---
interface Props {
  title: string;
  description: string;
  href: string;
  technologies: string[];
  image?: string;
  featured?: boolean;
}

const { title, description, href, technologies, image, featured = false } = Astro.props;

// Color mapping for technology badges
const techColors: Record<string, { bg: string; text: string }> = {
  'React Native': { bg: 'bg-accent-100', text: 'text-accent-700' },
  'React': { bg: 'bg-primary-100', text: 'text-primary-700' },
  'TypeScript': { bg: 'bg-primary-100', text: 'text-primary-700' },
  'JavaScript': { bg: 'bg-yellow-100', text: 'text-yellow-700' },
  'Node.js': { bg: 'bg-green-100', text: 'text-green-700' },
  'default': { bg: 'bg-neutral-100', text: 'text-neutral-700' },
};

const getColors = (tech: string) => techColors[tech] || techColors['default'];
---

<a href={href} class="block card p-6 hover-lift group">
  <div class="flex items-start justify-between gap-4">
    <div class="flex-1">
      {featured && (
        <span class="inline-block px-2 py-0.5 text-xs font-medium bg-accent-500 text-white rounded mb-3">
          Featured
        </span>
      )}
      <h3 class="text-xl font-semibold text-neutral-900 mb-2 group-hover:text-primary-600 transition-colors duration-200">
        {title}
      </h3>
      <p class="text-neutral-600 mb-4">
        {description}
      </p>
      <div class="flex flex-wrap gap-2">
        {technologies.map((tech) => {
          const colors = getColors(tech);
          return (
            <span class={`px-2.5 py-1 text-xs font-medium rounded-full ${colors.bg} ${colors.text}`}>
              {tech}
            </span>
          );
        })}
      </div>
    </div>
    {image ? (
      <img
        src={image}
        alt={`${title} preview`}
        class="w-20 h-20 rounded-lg object-cover flex-shrink-0"
        loading="lazy"
      />
    ) : (
      <svg
        class="w-5 h-5 text-neutral-400 flex-shrink-0 mt-1 transition-transform duration-200 group-hover:translate-x-1"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    )}
  </div>
</a>
